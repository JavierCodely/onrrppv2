# Diagrama del Esquema de Base de Datos

## ðŸ—ï¸ Arquitectura Multi-Tenant

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     auth.users (Supabase)                   â”‚
â”‚                     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”‚
â”‚                     - id (UUID)                             â”‚
â”‚                     - email                                 â”‚
â”‚                     - encrypted_password                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ 1:1
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        personal                             â”‚
â”‚                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚
â”‚  - id (UUID) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  - nombre (TEXT)             â”‚                              â”‚
â”‚  - apellido (TEXT)           â”‚                              â”‚
â”‚  - edad (INTEGER)            â”‚                              â”‚
â”‚  - ubicacion (TEXT)          â”‚                              â”‚
â”‚  - rol (user_role)           â”‚                              â”‚
â”‚  - uuid_club (UUID) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”                         â”‚
â”‚  - activo (BOOLEAN)          â”‚    â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚    â”‚
                               â”‚    â”‚ N:1
                               â”‚    â–¼
                               â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚  â”‚        clubs             â”‚
                               â”‚  â”‚    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚
                               â”‚  â”‚  - id (UUID)             â”‚
                               â”‚  â”‚  - nombre (TEXT)         â”‚
                               â”‚  â”‚  - activo (BOOLEAN)      â”‚
                               â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚                â”‚
                               â”‚                â”‚ 1:N
                               â”‚                â–¼
                               â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚  â”‚       eventos            â”‚
                               â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
                               â””â”€â”€â”¼â”€> created_by (UUID)      â”‚
                                  â”‚  - id (UUID)             â”‚
                                  â”‚  - nombre (TEXT)         â”‚
                                  â”‚  - fecha (TIMESTAMPTZ)   â”‚
                                  â”‚  - uuid_club (UUID) â”€â”€â”€â”€â”€â”˜
                                  â”‚  - estado (BOOLEAN)      â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â”‚ 1:N
                                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚            invitados                   â”‚
                    â”‚        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
                    â”‚  - id (UUID)                           â”‚
                    â”‚  - nombre (TEXT)                       â”‚
                    â”‚  - apellido (TEXT)                     â”‚
                    â”‚  - edad (INTEGER)                      â”‚
                    â”‚  - ubicacion (TEXT)                    â”‚
                    â”‚  - dni (TEXT)                          â”‚
                    â”‚  - sexo (sexo_type)                    â”‚
                    â”‚  - uuid_evento (UUID) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚  - id_rrpp (UUID) â”€â”€> personal
                    â”‚  - ingresado (BOOLEAN)
                    â”‚  - fecha_ingreso (TIMESTAMPTZ)
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Matriz de Permisos

| Tabla      | Admin                    | RRPP                      | Seguridad              |
|------------|--------------------------|---------------------------|------------------------|
| clubs      | Ver su club              | Ver su club               | Ver su club            |
| personal   | Ver personal de su club  | Ver personal de su club   | Ver personal de su club|
| eventos    | CRUD (propios)           | Ver (de su club)          | Ver (de su club)       |
| invitados  | Ver (de su club)         | CRUD (propios)            | Ver + Update ingresado |
